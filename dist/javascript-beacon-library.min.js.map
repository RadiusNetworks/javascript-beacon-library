{"version":3,"sources":["javascript-beacon-library.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","platform","Beacon","_platform","advertisements","options","self","Promise","resolve","reject","_checkAdvertisementOptions","registerAdvertisement","then","advertisement","push","Error","chrome","BeaconChromeOS","BEACON_TEST","BeaconAdvertisement","chromeAdv","_constructAdvertisement","bluetoothLowEnergy","advertisementId","runtime","lastError","message","unregisterAdvertisement","data","constructManufacturerData","id1","etc","advertisedTxPower","type","manufacturerData","IBEACON_ID","undefined","identifiers","dataFields","extraDataFields","beaconTypeCode","manufacturer","serviceUuid"],"mappings":"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","file":"javascript-beacon-library.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"javascriptBeaconLibrary\"] = factory();\n\telse\n\t\troot[\"javascriptBeaconLibrary\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar platform = __webpack_require__(1);\n\t\n\tvar Beacon = function () {\n\t  function Beacon() {\n\t    _classCallCheck(this, Beacon);\n\t\n\t    this._platform = platform();\n\t    this.advertisements = [];\n\t  }\n\t\n\t  _createClass(Beacon, [{\n\t    key: 'registerAdvertisement',\n\t    value: function registerAdvertisement(options) {\n\t      var self = this;\n\t      return new Promise(function (resolve, reject) {\n\t        if (!self._platform) {\n\t          reject(new Error('Platform not supported.'));\n\t          return;\n\t        }\n\t        Beacon._checkAdvertisementOptions(options);\n\t        return self._platform.registerAdvertisement(options).then(function (advertisement) {\n\t          self.advertisements.push(advertisement);\n\t          resolve(advertisement);\n\t        }, reject);\n\t      });\n\t    }\n\t  }], [{\n\t    key: '_checkAdvertisementOptions',\n\t    value: function _checkAdvertisementOptions(options) {\n\t      if (!('type' in options)) {\n\t        throw new TypeError('Required member type is undefined.');\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Beacon;\n\t}();\n\t\n\texports.default = Beacon;\n\t\n\t// // AltBeacon\n\t// beacon.registerAdvertisement({\n\t//   type: 'altbeacon',\n\t//   ids: ['2F234454CF6D4A0FADF2F4911BA9FFA6', 1, 1],\n\t//   advertisedTxPower: -59,\n\t//   manufacturerId: 0x0118\n\t// })\n\t//\n\t// // iBeacon\n\t// beacon.registerAdvertisement({\n\t//   ids: ['2F234454CF6D4A0FADF2F4911BA9FFA6', 1, 1],\n\t//   advertisedTxPower: -59,\n\t//   manufacturer: 0x004c,\n\t//   parserLayout: ':2-3=0215,i:4-19,i:20-21,i:22-23,p:24-24'\n\t// })\n\t//\n\t// // Eddystone UID\n\t// beacon.registerAdvertisement({\n\t//   type: 'eddystone_uid',\n\t//   ids: ['2F234454CF6D4A0FADF2F4911BA9FFA6', 1, 1],\n\t//   advertisedTxPower: -20,\n\t//   serviceUuid: 0xFEAA\n\t// })\n\t//\n\t// // Eddystone URL\n\t// beacon.registerAdvertisement({\n\t//   type: 'eddystone_url',\n\t//   ids: ['http://radiusnetworks.com'],\n\t//   advertisedTxPower: -20,\n\t//   serviceUuid: 0xFEAA\n\t// })\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar BeaconChromeOS = __webpack_require__(2);\n\t\n\tfunction platform() {\n\t  if (typeof chrome !== 'undefined') {\n\t    return BeaconChromeOS;\n\t  } else if (typeof BEACON_TEST !== 'undefined') {\n\t    return {};\n\t  } else {\n\t    throw new Error('Unsupported platform.');\n\t  }\n\t}\n\t\n\texports.default = platform;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BeaconAdvertisement = __webpack_require__(3).BeaconAdvertisement;\n\t\n\tvar BeaconChromeOS = function () {\n\t  function BeaconChromeOS() {\n\t    _classCallCheck(this, BeaconChromeOS);\n\t  }\n\t\n\t  _createClass(BeaconChromeOS, null, [{\n\t    key: 'registerAdvertisement',\n\t    value: function registerAdvertisement(options) {\n\t      return new Promise(function (resolve, reject) {\n\t        var chromeAdv = BeaconChromeOS._constructAdvertisement(options);\n\t\n\t        chrome.bluetoothLowEnergy.registerAdvertisement(chromeAdv, function (advertisementId) {\n\t          if (chrome.runtime.lastError) {\n\t            reject(new Error(chrome.runtime.lastError.message));\n\t            return;\n\t          }\n\t          resolve(new BeaconAdvertisement(advertisementId, options, BeaconChromeOS));\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'unregisterAdvertisement',\n\t    value: function unregisterAdvertisement(advertisement) {\n\t      return new Promise(function (resolve, reject) {\n\t        chrome.bluetoothLowEnergy.unregisterAdvertisement(advertisement.id, function () {\n\t          if (chrome.runtime.lastError) {\n\t            reject(new Error(chrome.runtime.lastError.message));\n\t            return;\n\t          }\n\t          resolve();\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: '_constructAdvertisement',\n\t    value: function _constructAdvertisement(options) {\n\t      var data = void 0;\n\t      var advertisement = void 0;\n\t\n\t      data = Beacon.constructManufacturerData(options.id1, etc, options.advertisedTxPower);\n\t      advertisement = {\n\t        type: 'broadcast',\n\t        manufacturerData: [{\n\t          id: IBEACON_ID,\n\t          data: data\n\t        }]\n\t      };\n\t      return advertisement;\n\t    }\n\t  }]);\n\t\n\t  return BeaconChromeOS;\n\t}();\n\t\n\texports.default = BeaconChromeOS;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar BeaconAdvertisement = function () {\n\t  function BeaconAdvertisement(id, options, platform) {\n\t    _classCallCheck(this, BeaconAdvertisement);\n\t\n\t    if (typeof platform === 'undefined') {\n\t      throw new TypeError('Required member platform is undefined');\n\t    }\n\t    this._platform = platform;\n\t    this.id = undefined;\n\t    this.type = undefined;\n\t\n\t    /**\n\t    The calibrated measured Tx power of the Beacon in RSSI\n\t    This value is baked into an Beacon when it is manufactured, and\n\t    it is transmitted with each packet to aid in the mDistance estimate\n\t    */\n\t    this.advertisedTxPower = undefined;\n\t\n\t    /**\n\t    A list of the multi-part identifiers of the beacon.  Together, these identifiers signify\n\t    a unique beacon.  The identifiers are ordered by significance for the purpose of grouping\n\t    beacons\n\t    */\n\t    this.identifiers = undefined;\n\t\n\t    /**\n\t    A list of generic non-identifying data fields included in the beacon advertisement.\n\t    */\n\t    this.dataFields = undefined;\n\t\n\t    /**\n\t    A list of generic non-identifying data fields included in a secondary beacon advertisement\n\t    and merged into this beacon.\n\t    */\n\t    this.extraDataFields = undefined;\n\t\n\t    /**\n\t    The two byte value indicating the type of beacon that this is, which is used for figuring\n\t    out the byte layout of the beacon advertisement\n\t    */\n\t    this.beaconTypeCode = undefined;\n\t\n\t    /**\n\t    A two byte code indicating the beacon manufacturer.  A list of registered manufacturer codes\n\t    may be found here:\n\t    https://www.bluetooth.org/en-us/specification/assigned-numbers/company-identifiers\n\t     If the beacon is a GATT-based beacon, this field will be set to -1\n\t    */\n\t    this.manufacturer = undefined;\n\t\n\t    /**\n\t    A 32 bit service uuid for the beacon\n\t    This is valid only for GATT-based beacons.   If the beacon is a manufacturer data-based\n\t    beacon, this field will be -1\n\t    */\n\t    this.serviceUuid = undefined;\n\t  }\n\t\n\t  /**\n\t  Unregisters the current advertisement.\n\t  @fulfill {void} - If the advertisement was unregistered successfully.\n\t  @reject {Error} - If the advertisement failed to be registered. If\n\t  the promise rejects the advertisment may still be broadcasting. The only\n\t  way to recover may be to reboot your machine.\n\t  @returns {Promise.<void>}\n\t  */\n\t\n\t\n\t  _createClass(BeaconAdvertisement, [{\n\t    key: 'unregisterAdvertisement',\n\t    value: function unregisterAdvertisement() {\n\t      return this._platform.unregisterAdvertisement(this);\n\t    }\n\t  }]);\n\t\n\t  return BeaconAdvertisement;\n\t}();\n\t\n\texports.default = BeaconAdvertisement;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=javascript-beacon-library.js.map"],"sourceRoot":"/source/"}